# Stage 3: Full Configuration
# Complete multi-agent system with learning

stage: stage3

trading:
  pairs:
    - BTC/USDT
    - ETH/USDT
    - SOL/USDT
    - AVAX/USDT
    - DOT/USDT
  quote_currency: USDT
  initial_capital: 1000.0
  target_capital: 5000.0
  check_interval_minutes: 15  # Most frequent

risk:
  max_position_pct: 0.15       # More conservative with more pairs
  max_total_exposure_pct: 0.80
  stop_loss_pct: 0.025
  take_profit_multiplier: 2.0
  min_confidence: 0.60
  max_daily_trades: 20
  max_daily_loss_pct: 0.08

# Exit management
exit_management:
  enable_trailing_stop: true
  enable_breakeven_stop: true
  trailing_stop:
    activation_pct: 0.01
    distance_pct: 0.007
  breakeven:
    activation_pct: 0.005
    buffer_pct: 0.001

features:
  # Analysts - ALL enabled
  enable_technical_analyst: true
  enable_sentiment_analyst: true
  enable_onchain_analyst: true     # NEW: Whale/exchange flows
  enable_macro_analyst: true       # NEW: Fed/DXY/correlations
  enable_orderbook_analyst: true   # NEW: Microstructure analysis
  
  # Intelligence
  enable_intel_fusion: true
  enable_regime_detection: true    # NEW: Trend/range/volatile
  
  # Execution
  enable_limit_orders: true
  enable_smart_routing: true       # NEW: TWAP, order splitting
  
  # Risk
  enable_circuit_breakers: true
  enable_anomaly_detection: true   # NEW: Unusual pattern detection
  
  # Memory
  enable_postgres: true
  enable_learning: true            # NEW: Adapt weights from outcomes
  
  # Other
  enable_event_bus: true
  simulation_mode: false

log_level: INFO
